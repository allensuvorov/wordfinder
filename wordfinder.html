<!DOCTYPE html>
<html lang="en">
    <head>
        <title>WordFinder1.0</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <h1>WordFinder1.0</h1>
    <form id="searchform">
        <input type="text" class="form-control" id="green" placeholder="gr??n">
        <input type="text" class="form-control" id="yellow" placeholder="yellow">
        <input type="text" class="form-control" id="grey" placeholder="grey">
        <button class="btn btn-primary">FindWords</button>
    </form>
    <div id="words"></div>
    <body>
        <script>
            
            let words = document.getElementById("words");
            
            function filterWords (json, yellow, grey){
                let with_yellow = json.filter(
                    item => {item.word.split('').some(char => yellow.includes(char))}
                );
                console.log(with_yellow)
                let without_grey = with_yellow.filter(
                    item => {!(item.word.split('').some(char => grey.includes(char)))}
                )
                let filtered = without_grey
                return filtered
            }

            function popularLetters (a) {}
            
            function sort (a) {}


            document.querySelector('#searchform').onsubmit = () => {

                green = document.querySelector('#green').value
                yellow = document.querySelector('#yellow').value
                grey = document.querySelector('#grey').value
                
                let url = 'https://api.datamuse.com/words?sp=' + green;
                
                fetch(url)
                    .then(response => response.json())
                    .then(json => {
                        console.log(json);
                        
                        //filtered = filterWords(json, yellow, grey)
                        //words.innerHTML = filtered.map(item => " "+item.word);
                        words.innerHTML = json.map(item => " "+item.word);
                    })
                
                return false;
            }

        </script>
    </body>
</html>